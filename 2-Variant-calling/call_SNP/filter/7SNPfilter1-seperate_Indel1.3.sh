#!/bin/bash
set -e
vcf_indir="/w/00/g/g00/sangyupeng/xiangyang/filter/snp_annote"
sites_dir="/w/00/g/g00/sangyupeng/xiangyang/filter/snp_annote/keep_sites"
outdir="/w/00/g/g00/sangyupeng/xiangyang/filter/final_remove_indel_snp"
TABIX="/w/00/u/user201/software/tabix-0.2.6"
VCFTOOLS="/data/apps/vcftools/vcftools-0.1.15/bin"

for vcf in $vcf_indir/*.gz
do
	temp=${vcf##*/}
	keep_list=${temp%%234.*}keep.txt
	outfile=${temp%%234.*}rmindel_snp
	outfile_vcf=${temp%%234.*}rmindel_snp.recode.vcf
	echo "cd $outdir;$VCFTOOLS/vcftools --gzvcf $vcf --snps $sites_dir/$keep_list --recode --recode-INFO-all --out $outfile;$TABIX/bgzip $outfile_vcf" >> 12guolv3.sh
done
