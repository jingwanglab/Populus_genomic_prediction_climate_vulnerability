#!/bin/bash
set -e
TABIX="/w/00/u/user201/software/tabix-0.2.6"
VCFTOOLS="/data/apps/vcftools/vcftools-0.1.15/bin"
indir="/w/00/g/g00/sangyupeng/xiangyang/filter/final_remove_indel_snp/filter5_rm_miss_maf"
bed_dir="/w/00/g/g00/sangyupeng/xiangyang/reference/true_bed/final_bed"
outdir="/w/00/g/g00/sangyupeng/xiangyang/filter/final_remove_indel_snp/filter6_bed"
for vcf in $indir/*.gz
do
	temp=${vcf##*/}
	chr=${temp%recode.*}bed
	chr_gz=${temp%recode.*}bed.recode.vcf
	bed=${temp%rmindel_*}mask_mappability.bed
	echo "cd $outdir;$VCFTOOLS/vcftools --gzvcf $vcf --bed $bed_dir/$bed --recode --recode-INFO-all --out $chr" >> 18.filter.sh
done
